- join_from_view: analytics_hr_bi__dim_employee
  join_to_view: employee_vs_manager_targets
  join_type: always_left
  on_sql: |-
    ${analytics_hr_bi__dim_employee.jobrole} = ${employee_vs_manager_targets.job_role}
    and ${analytics_hr_bi__dim_employee.department} = ${employee_vs_manager_targets.department}
  relationship_type: many_to_one
  reversible: true

- join_from_view: omni_dbt_hr_bi__dim_employee
  join_to_view: employee_vs_manager_targets
  join_type: always_left
  on_sql: ${omni_dbt_hr_bi__dim_employee.jobrole} =
    ${employee_vs_manager_targets.job_role} AND
    ${omni_dbt_hr_bi__dim_employee.department} =
    ${employee_vs_manager_targets.department}
  relationship_type: many_to_one
  reversible: true

- join_from_view: omni_dbt_hr_bi__fact_employee_monthly_costs
  join_to_view: omni_dbt_hr_bi__dim_employee
  join_type: always_left
  on_sql: ${omni_dbt_hr_bi__fact_employee_monthly_costs.employee_id} =
    ${omni_dbt_hr_bi__dim_employee.employee_id}
  relationship_type: many_to_one
  reversible: false

- join_from_view: omni_dbt_hr_bi__dim_employee
  join_to_view: omni_dbt_hr_bi__dim_employee
  join_to_view_as: manager_dim_omni_dbt
  join_type: always_left
  on_sql: ${omni_dbt_hr_bi__dim_employee.manager} =
    ${manager_dim_omni_dbt.employeenumber}
  relationship_type: many_to_many

- join_from_view: omni_dbt_hr_bi__dim_employee
  join_to_view: employee_vs_manager_targets
  join_to_view_as: employee_manager_target_omni_dbt
  join_type: always_left
  on_sql: ${omni_dbt_hr_bi__dim_employee.jobrole} =
    ${employee_vs_manager_targets.job_role} AND
    ${omni_dbt_hr_bi__dim_employee.department} =
    ${employee_vs_manager_targets.department}
  relationship_type: many_to_one

- join_from_view: omni_dbt_hr_bi__fact_employee_costs
  join_to_view: omni_dbt_hr_bi__dim_employee
  join_type: always_left
  on_sql: ${omni_dbt_hr_bi__fact_employee_costs.employee_id} =
    ${omni_dbt_hr_bi__dim_employee.employee_id}
  relationship_type: many_to_one
  reversible: false

- join_from_view: analytics_hr_bi__fact_employee_monthly_costs
  join_to_view: analytics_hr_bi__dim_employee
  join_type: always_left
  on_sql: ${analytics_hr_bi__fact_employee_monthly_costs.employee_id} =
    ${analytics_hr_bi__dim_employee.employee_id}
  relationship_type: many_to_one
  reversible: false

- join_from_view: analytics_hr_bi__dim_employee
  join_to_view: analytics_hr_bi__dim_employee
  join_to_view_as: manager_dim
  join_type: always_left
  on_sql: ${analytics_hr_bi__dim_employee.manager} = ${manager_dim.employeenumber}
  relationship_type: many_to_many

- join_from_view: analytics_hr_bi__dim_employee
  join_to_view: employee_vs_manager_targets
  join_to_view_as: employee_manager_target
  join_type: always_left
  on_sql: ${analytics_hr_bi__dim_employee.jobrole} =
    ${employee_vs_manager_targets.job_role} and
    ${analytics_hr_bi__dim_employee.department} =
    ${employee_vs_manager_targets.department}
  relationship_type: many_to_one

- join_from_view: analytics_hr_bi__fact_employee_costs
  join_to_view: analytics_hr_bi__dim_employee
  join_type: always_left
  on_sql: ${analytics_hr_bi__fact_employee_costs.employee_id} =
    ${analytics_hr_bi__dim_employee.employee_id}
  relationship_type: many_to_one
  reversible: false
